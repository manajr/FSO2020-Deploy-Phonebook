{"version":3,"sources":["Components/PersonForm.js","services/persons.js","Components/Person.js","Components/Filter.js","Components/Notification.js","App.js","index.js"],"names":["PersonForm","props","newItem","handleChange","text","value","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","item","tracker","state","whenClick","event","preventDefault","nameFiltered","filter","n","toString","target","window","confirm","name","personService","catch","error","setTimeout","map","key","number","type","onClick","Filter","newSearch","Notification","message","includes","className","App","useState","persons","setPersons","personsSearch","setPersonsSearch","newName","setNewName","newNumber","setNewNumber","search","setSearch","setNewSearch","errorMenssage","setErrorMenssage","useEffect","initialPersons","length","onSubmit","newPerson","personIndentifier","person","changedPerson","returnedPerson","alert","concat","toLowerCase","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uPAceA,EAZI,SAACC,GAAW,IACpBC,EAA+BD,EAA/BC,QAASC,EAAsBF,EAAtBE,aAAcC,EAAQH,EAARG,KAC9B,OACI,6BACGA,EADH,IACS,2BACPC,MAAOH,EACPI,SAAUH,M,gBCNdI,EAAU,gCAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfE,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVE,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALQ,SAACG,GAEpB,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCgB9BM,EAlCA,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,MAEtBC,EAAY,SAACC,GAAW,IAAD,EACzBA,EAAMC,iBACN,IAAMC,EAAeN,EAAKO,QAAO,SAAAC,GAAC,OAC9BA,EAAEZ,GAAGa,aAAeL,EAAMM,OAAOd,MAClBe,OAAOC,QAAP,2BAAyBN,EAAa,UAAtC,aAAyB,EAAiBO,KAA1C,QAGfZ,EAAQG,EAAMM,OAAOd,IACrBkB,EACcV,EAAMM,OAAOd,IAC1BmB,OAAM,SAAAC,GAAQ,IAAD,EACVd,EAAM,kBAAD,iBAAmBI,EAAa,UAAhC,aAAmB,EAAiBO,KAApC,0CACLI,YAAW,WACPf,EAAM,QACR,UAKd,OACA,6BACCF,EAAKkB,KAAI,SAAAzB,GAAI,OACV,yBAAK0B,IAAK1B,EAAKoB,MACX,8BACKpB,EAAKoB,KADV,IACiBpB,EAAK2B,OACjB,4BAAQxB,GAAIH,EAAKG,GAAIyB,KAAK,SAASC,QAASnB,GAA5C,iBCfFoB,EAbA,SAACzC,GAAW,IAChB0C,EAA2B1C,EAA3B0C,UAAWxC,EAAgBF,EAAhBE,aAClB,OACI,mDACuB,2BACnBE,MAAOsC,EACPrC,SAAUH,M,MCaPyC,MAlBf,YAAkC,IAAXC,EAAU,EAAVA,QACnB,OAAgB,OAAZA,EACO,KAEHA,EAAQC,SAAS,kBAEjB,yBAAKC,UAAU,kBACVF,GAKT,yBAAKE,UAAU,oBACVF,ICoGEG,EA7GH,WAAO,IAAD,EAEgBC,mBAAS,IAFzB,mBAERC,EAFQ,KAECC,EAFD,OAG4BF,mBAAS,IAHrC,mBAGRG,EAHQ,KAGOC,EAHP,OAIgBJ,mBAAS,IAJzB,mBAIRK,EAJQ,KAICC,EAJD,OAKmBN,mBAAS,IAL5B,mBAKRO,EALQ,KAKGC,EALH,OAMaR,mBAAS,IANtB,mBAMRS,EANQ,KAMAC,EANA,OAOoBV,mBAAS,IAP7B,mBAORN,EAPQ,KAOGiB,EAPH,OAQ4BX,mBAAS,MARrC,mBAQRY,EARQ,KAQOC,EARP,KAUhBC,qBAAU,WACR9B,IAEGvB,MAAK,SAAAsD,GACJb,EAAWa,QAEd,IAEH,IAyDM7C,EAAUuC,EAAOO,OAAS,EAC9Bf,EAAQxB,QAAO,SAAAd,GAAI,OAAIA,EAAKoB,KAAKc,SAASY,MAC1CR,EAUF,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcL,QAASgB,IACvB,kBAAC,EAAD,CAAQlB,UAAWA,EAAWxC,aApBP,SAACoB,GAC1BqC,EAAarC,EAAMM,OAAOxB,UAoBxB,yCACI,kBAAC,EAAD,CAAYH,QAASoD,EACrBnD,aA7BmB,SAACoB,GAC1BgC,EAAWhC,EAAMM,OAAOxB,QA4BgBD,KAAM,UACxC,kBAAC,EAAD,CAAYF,QAASsD,EACrBrD,aA5BmB,SAACoB,GAC1BkC,EAAalC,EAAMM,OAAOxB,QA2BcD,KAAM,YAE1C,0BAAM8D,SAhFM,SAAC3C,GACjBA,EAAMC,iBACN,IAAM2C,EAAY,CAChBnC,KAAMsB,EACNf,OAAQiB,GAEJY,EAAoBlB,EAAQxB,QAAO,SAAA2C,GAAM,OAAIA,EAAOrC,OAASsB,KAEnE,GAAiC,KAAb,OAAjBc,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBH,QACpB,GAAiB,KAAdT,GAGD,GAFiB1B,OAAOC,QAAP,UAAkBuB,EAAlB,qFAEJ,CACX,IAAMgB,EAAa,2BAAOF,EAAkB,IAAzB,IAA6B7B,OAAQiB,IAExDvB,EACQmC,EAAkB,GAAGrD,GAAIuD,GAChC5D,MAAK,SAAA6D,GACJpB,EAAWD,EAAQb,KAAI,SAAAgC,GAAM,OAAIA,EAAOtD,KAAOqD,EAAkB,GAAGrD,GAAKsD,EAAQE,eAKrFzC,OAAO0C,MAAP,UAAgBlB,EAAhB,mCAIc,KAAZA,GACFK,EAAUhB,GACViB,EAAa,IACbP,EAAiBD,EAAcqB,OAAOvB,EAAQxB,QAAO,SAAA2C,GAAM,OACzDA,EAAOrC,KAAK0C,cAAc5B,SAASY,EAAOgB,qBAG5CzC,EACQkC,GACPzD,MAAK,SAAA6D,GACJT,EAAiB,SAAD,OAAUS,EAAevC,OACzCI,YAAW,kBAAM0B,EAAiB,QAAO,KACzCX,EAAWD,EAAQuB,OAAOF,IAC1BhB,EAAW,IACXE,EAAa,SAwCb,4BAAQjB,KAAK,UAAb,QAGF,uCACE,kBAAC,EAAD,CAAQrB,KAAMA,EAAMC,QApBN,SAACL,GACrBoC,EAAWD,EAAQxB,QAAO,SAAAC,GAAC,OAAIA,EAAEZ,GAAGa,aAAeb,OAoB7CM,MAAOyC,MC1GjBa,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.35d31252.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n    const {newItem, handleChange, text} = props\n    return(\n        <div>\n          {text} <input \n          value={newItem}\n          onChange={handleChange}\n          />\n        </div>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\nexport default {getAll, create, update, deletePerson}","import React from 'react'\nimport personService from '../services/persons'\n\nconst Person = ({item, tracker, state}) =>{\n\n    const whenClick = (event) => {\n        event.preventDefault()\n        const nameFiltered = item.filter(n=>\n            n.id.toString() === event.target.id)\n        const deleteConf = window.confirm(`Delete ${nameFiltered[0]?.name} `)        \n\n        if(deleteConf) {\n            tracker(event.target.id)\n            personService\n            .deletePerson(event.target.id)\n            .catch(error=>{\n                state(`Information of ${nameFiltered[0]?.name} has already been removed from server`)\n                setTimeout(()=> {\n                    state(null)\n                },5000)\n            })\n        }\n    }\n\n    return(\n    <div>\n    {item.map(data =>\n        <div key={data.name}>\n            <form>\n                {data.name} {data.number} \n                 <button id={data.id} type='submit' onClick={whenClick}>delete</button> \n            </form>\n        </div>)}\n    </div>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = (props) => {\n    const {newSearch, handleChange} = props\n    return(\n        <div>\n            filter shown with: <input \n            value={newSearch}\n            onChange={handleChange}\n            />\n        </div>\n    )\n}\n\n\nexport default Filter","import React from 'react'\nimport './Notification.css'\n\nfunction Notification({message}) {\n    if (message === null){\n        return null\n    }\n    else if(message.includes('Information of')){\n        return(\n            <div className='message__error'>\n                {message}\n            </div>\n        )\n    }\n    return (\n        <div className='message__success'>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './Components/PersonForm'\nimport Person from './Components/Person'\nimport Filter from './Components/Filter'\nimport personService from './services/persons'\nimport Notification from './Components/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ personsSearch, setPersonsSearch ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ search, setSearch] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ errorMenssage, setErrorMenssage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const personIndentifier = persons.filter(person => person.name === newName)\n\n    if(personIndentifier?.length !== 0){\n      if(newNumber !== ''){\n        const checkPut = window.confirm(`${newName} is already added to phonebook,\n         replace the old number with a new one?`)\n        if (checkPut){\n          const changedPerson = {...personIndentifier[0], number: newNumber}\n\n          personService\n          .update(personIndentifier[0].id, changedPerson)\n          .then(returnedPerson =>{\n            setPersons(persons.map(person => person.id !== personIndentifier[0].id ? person: returnedPerson))\n          })\n        }\n      }\n      else{\n        window.alert(`${newName} already exist in the list`)\n      }\n    }\n    else{\n      if (newName === ''){\n        setSearch(newSearch)\n        setNewSearch('')\n        setPersonsSearch(personsSearch.concat(persons.filter(person => \n          person.name.toLowerCase().includes(search.toLowerCase()))))\n      }\n      else{\n        personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setErrorMenssage(`Added ${returnedPerson.name}`)\n          setTimeout(() => setErrorMenssage(null), 5000)\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n      }\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handlePersonSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const item = ( (search.length > 1) ?\n    persons.filter(data => data.name.includes(search)) :\n    persons\n  )\n\n\n\n //Get value from Person component \n  const trackerPerson = (id) => {\n    setPersons(persons.filter(n => n.id.toString() !== id))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMenssage} />\n      <Filter newSearch={newSearch} handleChange={handlePersonSearch}/>\n      <h2>add a new</h2>\n          <PersonForm newItem={newName}\n          handleChange={handlePersonChange} text={'name:'}/>\n          <PersonForm newItem={newNumber} \n          handleChange={handleNumberChange} text={'number:'} />\n          \n        <form onSubmit={addPerson}> \n          <button type=\"submit\">add</button>\n        </form>\n        \n        <h2>Numbers</h2>\n          <Person item={item} tracker={trackerPerson}\n          state={setErrorMenssage} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}